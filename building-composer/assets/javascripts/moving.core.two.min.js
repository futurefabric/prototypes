function animate(){recording!==!0?setTimeout(function(){requestAnimationFrame(animate)},1e3/fps):(requestAnimationFrame(animate),capturer.capture(two.renderer.domElement)),render()}function render(){if(recording!==!0){var e=$(".animation-range-slider");e.attr({max:numFrames}),$(".animation-range-slider").on("mouseenter touchstart",function(){window.autoPlayAnimation=!1}),$(".animation-range-slider").on("mouseleave touchend",function(){window.autoPlayAnimation=!0}),window.autoPlayAnimation===!0?(t+=1/numFrames,t>=1&&(t=0),e.val(Math.ceil(t*numFrames)),draw()):(t=e.val()/numFrames,draw())}else t=1*playHead/canvasWidth,playHead+=canvasWidth/numFrames,t>1&&(t=1),0===t&&capturer.start(),t<1&&draw(),t>=1&&(capturer.stop(),capturer.save(),recording=!1)}function createTwoInstance(){var e=document.getElementById("moving"),n={width:canvasWidth,height:canvasHeight,type:rendererType};two=new Two(n).appendTo(e)}function createCanvas(e){container=document.createElement("div"),container.style.backgroundColor=e,container.id="moving",document.getElementsByClassName("main")[0].appendChild(container),createTwoInstance()}var container,mouse_x=0,two;window.autoPlayAnimation=!0;var t=0;